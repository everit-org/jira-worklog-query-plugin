<!DOCTYPE HTML>
<!-- Copyright (c) 2011, Everit Kft.

    All rights reserved.

    This library is free software; you can redistribute it and/or
    modify it under the terms of the GNU Lesser General Public
    License as published by the Free Software Foundation; either
    version 3 of the License, or (at your option) any later version.

    This library is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNUc
    Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public
    License along with this library; if not, write to the Free Software
    Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
    MA 02110-1301  USA -->
<html>

<head>
<meta charset="utf-8">
<title>Everit Worklog Query Plugin</title>
<link rel="icon" type="http://www.everit.org/image/ico" href="fonts/favicon.ico">

<link href="http://www.everit.org/css/bootstrap.min.css" rel="stylesheet">
<link href="http://www.everit.org/css/docs.min.css" rel="stylesheet">
<link href="http://www.everit.org/css/everit.css" rel="stylesheet">
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-15041869-4']);
  _gaq.push(['_setDomainName', 'everit.org']);
  _gaq.push(['_trackPageview']);
</script>
</head>

<body class="bs-docs-home" data-spy="scroll" data-target="#affix-nav">
  <a class="sr-only" href="#content">Skip to main content</a>
  <header class="navbar navbar-static-top bs-docs-nav" id="top" role="banner">
    <div class="container">
      <div class="navbar-header">
        <button class="navbar-toggle" type="button" data-toggle="collapse"
          data-target=".bs-navbar-collapse">
          <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span
            class="icon-bar"></span> <span class="icon-bar"></span>
        </button>
        <a href="#" class="navbar-brand">Index</a>
      </div>
      <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
        <ul class="nav navbar-nav">
          <li><a href="https://github.com/everit-org/jira-worklog-query-plugin" target="_blank">Source</a>
          </li>
          <li><a href="http://www.everit.org/" target="_blank">Community</a></li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
          <li><a href="http://www.everit.biz" target="_blank">Enterprise</a></li>
          <li><a href="http://everitorg.wordpress.com/" target="_blank">Blog</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <div class="bs-docs-masthead everit-header" id="content" role="main">
    <div class="container">
      <span class="bs-docs-booticon bs-docs-booticon-lg bs-docs-booticon-outline"> <img
        class="logo" src="http://www.everit.org/fonts/sbz_e.svg" alt="E">
      </span>
      <p class="lead">Jira Worklog Query Plugin</p>
    </div>
  </div>
  <div class="container">
    <div class="text-center text-danger" style="padding-top: 1em;">
      Do you need Jira and OSGi developers? <strong>Daily rates start from 150 €!</strong> For more
      information, please <a href="http://www.everit.biz#contact">contact us</a>!
    </div>
    <div class="col-md-10">

      <div class="bs-docs-featurette cookbook" id="intoduction">
        <h3 style="text-align: center">Worklog Query Plugin is a JIRA plugin enabling its users
          to run worklog queries and apply parameters on these queries through RESTful services. The
          plugin handles queries according to user roles, therefore, these queries can only be run
          on worklogs the user has appropriate permissions to access. Various filtering parameters
          can also be set up to narrow down the search results to a certain interval of time, user,
          user group and/or project. The result of the worklog query is served in JSON format.</h3>
      </div>
      <hr class="featurette-divider">

      <div class="bs-docs-featurette cookbook" id="install">
        <h2>Install</h2>
        <p>
          The plugin can be downloaded or installed from <a
            href="https://marketplace.atlassian.com/plugins/org.everit.jira.worklog.query.plugin.core">Atlassian
            Marketplace</a>.
        </p>
      </div>
      <hr class="featurette-divider">

      <div class="bs-docs-featurette cookbook" id="authentication">
        <h2>Authentication</h2>
        <p>To run queries, it is essential to be authenticated. The process of authentication
          can be performed in different ways:</p>
        <ul>
          <li>Authentication provided by JIRA in a browser: queries can be run during the valid
            status of authentication data stored in the browser.</li>
          <li>The query can also be run in the header by the help of Http Basic Authentication.
            More information: <a href="http://en.wikipedia.org/wiki/Basic_access_authentication">http://en.wikipedia.org/wiki/Basic_access_authentication</a>
          </li>
        </ul>
      </div>
      <hr class="featurette-divider">

      <div class="bs-docs-featurette cookbook" id="rest_api_version">
        <h2>REST API verison</h2>
        <p>Using the plugin version 2.x, the REST-API-VERSION in the URL will be the major
          version of the REST API, which is currently 1.</p>
        <p>
          Using the plugin version 1.x, the REST-API-VERSION in the URL will be the same as the
          plugin version until version 1.2.1 (including). After version 1.2.1 the REST-API-VERSION
          will remain 1.2.1. This decision was inspired by <a
            href="https://github.com/everit-org/jira-worklog-query-plugin/issues/17">https://github.com/everit-org/jira-worklog-query-plugin/issues/17</a>
          and we do not want to bother the users with MINOR and PATCH version changes in further 1.x
          releases.
        </p>
      </div>
      <hr class="featurette-divider">

      <div class="bs-docs-featurette cookbook" id="queries">
        <h2>Queries</h2>
        <p>By means of the plugin, three types of queries can be run: we may query the worklogs,
          or the modified worklogs during the spefied interval, or summarize worklogs worked time by
          issues.</p>
        <h3 id="query_belong">Querying worklogs that belong to an interval</h3>
        <p>The worklog query can be accessed from the link below:</p>
        <p>
          <b>http://myjira/rest/jira-worklog-query/<a
            href="#rest_api_version">REST-API-VERSION</a>/find/worklogs
          </b>
        </p>
        <p>The query returns the worklogs that belong to the specified interval. The query
          considers the startdate value of the worklog.</p>
        <p>GET parameters of the worklogs query:</p>
        <table class="table">
          <thead>
            <tr>
              <th>parameter</th>
              <th>value</th>
              <th>optional</th>
              <th>description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>startDate</td>
              <td>"YYYY-MM-DD"</td>
              <td>false</td>
              <td>The start date from which the worklogs can be viewed. The query is run from
                the beginning of the given day (00:00:00)</td>
            </tr>
            <tr>
              <td>endDate</td>
              <td>"YYYY-MM-DD"</td>
              <td>true</td>
              <td>The end date until which the worklogs can be viewed. The query is run until
                the end of the given day (23:59:59). The default value is the current date.</td>
            </tr>
            <tr>
              <td>group/user</td>
              <td>string</td>
              <td>false</td>
              <td>A JIRA group or user name whose worklogs are to be listed. One of them is
                required.</td>
            </tr>
            <tr>
              <td>project</td>
              <td>string</td>
              <td>true</td>
              <td>The key parameter of a JIRA project. Unless it is defined, all projects are
                queried, otherwise only the ones under the defined project.</td>
            </tr>
            <tr>
              <td>fields</td>
              <td>string list</td>
              <td>true</td>
              <td>A list of additional fields to return. Available fields are: comment,
                updated.</td>
            </tr>
          </tbody>
        </table>
        <p>Available response representations:</p>
        <ul>
          <li>200 - application/json Example:</li>
        </ul>
        <pre><code>[
  [
    {
      "id": 10204,
      "startDate": "2014-07-31T08:00:00+0200",
      "issueKey": "TEST-5",
      "userId": "admin",
      "duration": 22440
    },
    {
      "id": 10207,
      "startDate": "2014-07-31T14:14:00+0200",
      "issueKey": "TEST-2",
      "userId": "admin",
      "duration": 2340
    }
  ]
]</code></pre>
        <ul>
          <li>400 - Returned if there is a problem running the query. Example:</li>
        </ul>
        <pre><code>Error running search: There is no project matching the given 'project' parameter: NOPROJECT</code></pre>
        <h3 id="query_during">Querying worklogs modified during an interval</h3>
        <p>The worklog query can be accessed from the link below:</p>
        <p>
          <b>http://myjira/rest/jira-worklog-query/<a
            href="#rest_api_version">REST-API-VERSION</a>/find/updatedWorklogs
          </b>
        </p>
        <p>The query returns all the worklogs created and modified during the given interval.
          According to the logic of Jira, creation counts as modification. In the latter case, the
          value of the worklog update equals the value of createdate. The query considers the value
          of the worklog update.</p>
        <p>GET parameters of the updatedWorklogs query:</p>
        <table class="table">
          <thead>
            <tr>
              <th>parameter</th>
              <th>value</th>
              <th>optional</th>
              <th>description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>startDate</td>
              <td>"YYYY-MM-DD"</td>
              <td>false</td>
              <td>The start date from which the worklogs can be viewed. The query is run from
                the beginning of the given day (00:00:00)</td>
            </tr>
            <tr>
              <td>endDate</td>
              <td>"YYYY-MM-DD"</td>
              <td>true</td>
              <td>The end date until which the worklogs can be viewed. The query is run until
                the end of the given day (23:59:59). The default value is the current date.</td>
            </tr>
            <tr>
              <td>group/user</td>
              <td>string</td>
              <td>false</td>
              <td>A JIRA group or user name whose worklogs are to be listed. One of them is
                required.</td>
            </tr>
            <tr>
              <td>project</td>
              <td>string</td>
              <td>true</td>
              <td>The key parameter of a JIRA project. Unless it is defined, all projects are
                queried, otherwise only the ones under the defined project.</td>
            </tr>
            <tr>
              <td>fields</td>
              <td>string list</td>
              <td>true</td>
              <td>A list of additional fields to return. Available fields are: comment,
                updated.</td>
            </tr>
          </tbody>
        </table>
        <p>Available response representations:</p>
        <ul>
          <li>200 - application/json Example:</li>
        </ul>
        <pre><code>[
  [
    {
      "id": 10204,
      "startDate": "2014-07-31T08:00:00+0200",
      "issueKey": "TEST-5",
      "userId": "admin",
      "duration": 22440
    },
    {
      "id": 10207,
      "startDate": "2014-07-31T14:14:00+0200",
      "issueKey": "TEST-2",
      "userId": "admin",
      "duration": 2340
    }
  ]
]</code></pre>
        <ul>
          <li>400 - Returned if there is a problem running the query. Example:</li>
        </ul>
        <pre><code>Error running search: There is no project matching the given 'project' parameter: NOPROJECT</code></pre>
        <h3 id="summarize">Summarize worked time by issues</h3>
        <p>The worklog query can be accessed from the link below:</p>
        <p>
          <b>http://myjira/rest/jira-worklog-query/<a
            href="#rest_api_version">REST-API-VERSION</a>/find/worklogsByIssues
          </b>
        </p>
        <p>This function queries worklogs - filtered by the given parameters - and summarize the
          worked time by issues. The returned issues can be filtered by a JQL expression. The
          response are paginated, with default page size of 25 issues.</p>
        <p>GET parameters of the worklogs query:</p>
        <table class="table">
          <thead>
            <tr>
              <th>parameter</th>
              <th>value</th>
              <th>optional</th>
              <th>description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>startDate</td>
              <td>"YYYY-MM-DD"</td>
              <td>false</td>
              <td>The result will only contain worklogs after this date</td>
            </tr>
            <tr>
              <td>endDate</td>
              <td>"YYYY-MM-DD"</td>
              <td>false</td>
              <td>The result will only contain worklogs before this date. The default value is
                the current date.</td>
            </tr>
            <tr>
              <td>group/user</td>
              <td>string</td>
              <td>false</td>
              <td>A JIRA group or user name whose worklogs are queried. One of them is
                required.</td>
            </tr>
            <tr>
              <td>jql</td>
              <td>string</td>
              <td>true</td>
              <td>The returned issues are filtered by this JQL expression. By default, all
                issues are returned.</td>
            </tr>
            <tr>
              <td>fields</td>
              <td>string list</td>
              <td>true</td>
              <td>The list of fields to return for each issue. By default, no additional fields
                are returned. <a href="https://docs.atlassian.com/jira/REST/latest/#d2e423">More
                  info</a>
              </td>
            </tr>
            <tr>
              <td>startAt</td>
              <td>int</td>
              <td>true</td>
              <td>The index of the first issue to return (0-based)</td>
            </tr>
            <tr>
              <td>maxResults</td>
              <td>int</td>
              <td>true</td>
              <td>The maximum number of issues to return (default is 25).</td>
            </tr>
          </tbody>
        </table>
        <p>Available response representations:</p>
        <ul>
          <li>200 - application/json Example response with no additional fields parameter:</li>
        </ul>
        <pre><code>{
  "startAt": 0,
  "maxResults": 25,
  "total": 2,
  "issues": [
    {
      "id": "13405",
      "self": "http://localhost:8080/rest/api/2/issue/13405",
      "key": "TEST-1",
      "timespent": 1440
    },
    {
      "id": "13406",
      "self": "http://localhost:8080/rest/api/2/issue/13406",
      "key": "TEST-2",
      "timespent": 35760
    }
  ]
}</code></pre>
        <p>Example response with "fields=summary,progress" parameter:</p>
        <pre><code>{
  "startAt": 0,
  "maxResults": 25,
  "total": 1,
  "issues": [
    {
      "id": "13411",
      "self": "http://localhost:8080/rest/api/2/issue/13411",
      "key": "NEW-1",
      "fields": {
        "progress": {
          "progress": 84000,
          "total": 84000,
          "percent": 100
        },
        "summary": "new issue1"
      },
      "timespent": 67080
    }
  ]
}</code></pre>
        <ul>
          <li>400 - application/json Returned if there is a problem running the query. Example:</li>
        </ul>
        <pre><code>{
  "errorMessages": [
    "Cannot parse the 'startDate' parameter: 2013-0ghjg6-25"
  ],
  "errors": {
  }
}</code></pre>
      </div>
      <hr class="featurette-divider">

      <div class="bs-docs-featurette cookbook" id="response">
        <h2>Response</h2>
        <p>In the case of a successful query the worklog information is returned (with HTTP 200
          OK status) in JSON format as:</p>
        <p>[[ { "id":int, "duration":int, "startDate":string, "userId":string, "issueKey":string
          },.. ]]</p>
        <p>The items of the list consist of the following data:</p>
        <ul>
          <li>id - ID of the worklog.</li>
          <li>duration - Duration of the worklog in seconds.</li>
          <li>startDate - Start date of the worklog in ISO-8601 format.</li>
          <li>userId - ID of the JIRA user who created the worklog.</li>
          <li>issueKey - Key value of the issue to which the worklog belongs.</li>
        </ul>
        <p>200 - application/json Example:</p>
        <pre><code>[
  [
    {
      "id": 10204,
      "startDate": "2014-07-31T08:00:00+0200",
      "issueKey": "TEST-5",
      "userId": "admin",
      "duration": 22440
    },
    {
      "id": 10207,
      "startDate": "2014-07-31T14:14:00+0200",
      "issueKey": "TEST-2",
      "userId": "admin",
      "duration": 2340
    }
  ]
]</code></pre>
      </div>
      <hr class="featurette-divider">

      <div class="bs-docs-featurette cookbook" id="error_handling">
        <h2>Error handling</h2>
        <p>If the parameters of the query are defined erroneously, the following responses can
          be returned with an HTTP Error 400 Bad request status:</p>
        <ul>
          <li>If the startDate is missing:
            <ul>
              <li>The 'startDate' parameter is missing!</li>
            </ul>
          </li>
          <li>If the both the user and the group parameters are missing:
            <ul>
              <li>The 'user' or the 'group' parameter is missing!</li>
            </ul>
          </li>
          <li>If the startDate is defined erroneously:
            <ul>
              <li>Cannot parse the 'startDate' parameter: + startDate</li>
            </ul>
          </li>
          <li>If the endDate is defined erroneously:
            <ul>
              <li>Cannot parse the 'endDate' parameter: + endDate</li>
            </ul>
          </li>
        </ul>
        <p>In the case of any other type of error the result is the HTTP Error 500 Internal
          Server Error status accompanied by the message of the current error.</p>
        <p>If the user tries to run the query without authenticating to the JIRA server, then
          the result is the HTTP Error 401 Unauthorized status: Client must be authenticated to
          access this resource.</p>
        <p>An empty response is returned if:</p>
        <ul>
          <li>There are no users added to the group.</li>
          <li>The user does not exist in the system.</li>
          <li>There are no issues added to the project because
            <ul>
              <li>none belongs to it,</li>
              <li>the user has no permission see them.</li>
            </ul>
          </li>
          <li>No viewable worklog entry can be found in the given intervall.</li>
          <li>etc...</li>
        </ul>
      </div>
      <hr class="featurette-divider">

      <div class="bs-docs-featurette cookbook" id="examples">
        <h2>Examples</h2>
        <p>
          The URLs of the examples represent the working of the plugin 2.x version. More about the
          plugin <a href="#rest_api_version">REST API version</a>.
        </p>
        <h3 id="example1">Example 1</h3>
        <pre><code>JIRA_URL/rest/jira-worklog-query/1/find/worklogs?startDate=2012-12-12&endDate=2013-01-12&user=testuser</code></pre>
        <p>It returns each worklog created by the testuser between 2012.12.12 and 2013.01.12
          according to the permissions of user running the query.</p>
        <p>A possible response:</p>
        <pre><code>[[
  {
    "id":11000,
    "duration":14400,
    "startDate":"2013-01-07T08:00:00Z",
    "userId":"testuser",
    "issueKey":"TEST-1"
  },
  {
    "id":11100,
    "duration":17100,
    "startDate":"2013-01-08T08:30:00Z",
    "userId":"testuser",
    "issueKey":"TEST-1"
  }
]]</code></pre>
        <p>Example response with added "fields=comment" parameter:</p>
        <pre><code>[[
  {
    "id": 103849,
    "startDate": "2015-01-10T10:15:00+0100",
    "issueKey": "TEST-7",
    "userId": "test@everit.biz",
    "duration": 3900,
    "comment": "Comment of test worklog"
  },
  {
    "id": 103947,
    "startDate": "2015-01-10T00:00:00+0100",
    "issueKey": "TEST-38",
    "userId": "test@everit.biz",
    "duration": 17100,
    "comment": "Some important comment"
  }
]]</code></pre>
        <h3 id="example2">Example 2</h3>
        <pre><code>JIRA_URL/rest/jira-worklog-query/1/find/worklogs?startDate=2012-12-12&group=test group&project=TEST</code></pre>
        <p>From 2012.12.12 till today (let the current example date be 2013.01.30), the
          testgroup members’ worklogs that belong to the project with the TEST key are all returned.
          In case the authenticated user has no permission to access the project, an empty list is
          returned.</p>
        <p>A possible response:</p>
        <pre><code>[[
  {
    "id":11000,
    "duration":14400,
    "startDate":"2013-01-07T08:00:00Z",
    "userId":"testuser",
    "issueKey":"TEST-1"
  },
  {
    "id":11100,
    "duration":17100,
    "startDate":"2013-01-08T08:30:00Z",
    "userId":"testuser",
    "issueKey":"TEST-1"
  },
  {
    "id":11110,
    "duration":17100,
    "startDate":"2013-01-09T08:30:00Z",
    "userId":"testUser2",
    "issueKey":"TEST-2"
  }
]]</code></pre>
        <p>In this example, testUser and testUser2 are members of the test group. The issues
          with the codes TEST-1 and TEST-2 belong to the TEST project.</p>
        <h3 id="example3">Example 3</h3>
        <p>If the authenticated user does not have permission to access the TEST project, the
          response is an empty list: [[]]</p>
        <h3 id="example4">Example 4</h3>
        <pre><code>JIRA_URL/rest/jira-worklog-query/1/find/updatedWorklogs?startDate=2012-12-12&group=test group&project=TEST</code></pre>
        <p>During the interval between 2012.12.12 and 2013.01.12, all the worklogs modified by
          the testuser are returned from every project to which the user has access to.</p>
        <p>A possible response:</p>
        <pre><code>[[
  {
    "id":11000,
    "duration":14400,
    "startDate":"2013-01-07T08:00:00Z",
    "userId":"testuser",
    "issueKey":"TEST-1"
  }
]]</code>
        </pre>
        <p>The response is similar to the one in the first example, but the last worklog is
          missing from the response. One possible explanation for that may be that the testuser
          modified the worklog description to 2013.01.13. Therefore, the updateWorklogs query does
          not return it any longer, while a worklog query would return the results of the first
          example henceforward.</p>
        <h3 id="example5">Example 5</h3>
        <pre><code>JIRA_URL/rest/jira-worklog-query/1/find/worklogsByIssues?startDate=2015-01-10&endDate=2015-01-11&user=testuser</code></pre>
        <p>A possible response:</p>
        <pre><code>{
  "startAt": 0,
  "maxResults": 25,
  "total": 2,
  "issues": [
    {
      "id": "13405",
      "self": "http://localhost:8080/rest/api/2/issue/13405",
      "key": "TEST-1",
      "timespent": 1440
    },
    {
      "id": "13406",
      "self": "http://localhost:8080/rest/api/2/issue/13406",
      "key": "TEST-2",
      "timespent": 35760
    }
  ]
}</code></pre>
        <p>Example response with "fields=summary,progress" parameter:</p>
        <pre><code>{
  "startAt": 0,
  "maxResults": 25,
  "total": 1,
  "issues": [
    {
      "id": "13411",
      "self": "http://localhost:8080/rest/api/2/issue/13411",
      "key": "NEW-1",
      "fields": {
        "progress": {
          "progress": 84000,
          "total": 84000,
          "percent": 100
        },
        "summary": "new issue1"
      },
      "timespent": 67080
    }
  ]
}</code></pre>
      </div>
      <hr class="featurette-divider">

      <div class="bs-docs-featurette cookbook" id="release_notes">
        <h2>Releases</h2>
        <a href="https://github.com/everit-org/jira-worklog-query-plugin/releases">RELEASES</a>
      </div>
    </div>

    <!--        Affix-->
    <div class="col-md-2 col-sm-0 col-xs-0">
      <nav id="affix-nav">
        <ul class="nav nav-pills nav-stacked everit-affix" data-spy="affix" data-offset-top="350"
          data-offset-bottom="140">
          <li><a href="#install">Install</a></li>
          <li class="active"><a href="#authentication">Authentication</a></li>
          <li><a href="#rest_api_version">REST API verison</a>
          <li><a href="#queries">Queries</a>
            <ul class="nav nav-pills nav-stacked">
              <li><a href="#query_belong">Querying worklogs that belong to an interval</a></li>
              <li><a href="#query_during">Querying worklogs modified during an interval</a></li>
              <li><a href="#summarize">Summarize worked time by issues</a></li>
            </ul></li>
          <li><a href="#response">Response</a>
          <li><a href="#error_handling">Error handling</a>
          <li><a href="#examples">Examples</a>
            <ul class="nav nav-pills nav-stacked">
              <li><a href="#example1">Example 1</a></li>
              <li><a href="#example2">Example 2</a></li>
              <li><a href="#example3">Example 3</a></li>
              <li><a href="#example4">Example 4</a></li>
              <li><a href="#example5">Example 5</a></li>
            </ul></li>
          <li><a href="#release_notes">Releases</a></li>
        </ul>
      </nav>
    </div>
  </div>

  <div></div>
  <footer class="bs-docs-footer" role="contentinfo">
    <div class="container">
      <div class="bs-docs-social">
        <ul class="bs-docs-social-buttons">
          <li class="follow-btn "><a href="https://twitter.com/EveritOrg"
            class="twitter-follow-button" data-show-count="true">Follow @EveritOrg</a></li>
          <li class="tweet-btn"><a href="https://twitter.com/share"
            class="twitter-share-button" data-url="http://www.everit.org/">Tweet</a></li>
        </ul>
      </div>
    </div>
  </footer>

  <!-- Bootstrap core JavaScript
================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="http://www.everit.org/js/jquery-2.1.1.min.js"></script>
  <script src="http://www.everit.org/js/bootstrap.min.js"></script>
  <script src="http://www.everit.org/js/everit.js "></script>
  <script type="text/javascript">
      (function() {
        var ga = document.createElement('script');
        ga.type = 'text/javascript';
        ga.async = true;
        ga.src = ('https:' == document.location.protocol
            ? 'https://ssl'
            : 'http://www')
            + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
      })();
    </script>
</body>

</html>
